<html><head>
        <!-- Generated by Ddoc from ../../../.dub/packages/dunit-1.0.12/dunit/source/dunit/mockable.d -->
        <META http-equiv="content-type" content="text/html; charset=utf-8">
        <title>dunit.mockable</title>
        </head><body>
        <h1>dunit.mockable</h1>
Mixin template to enable mocking.
<br><br>
Many methods implement compile-time parameters (file, line) that are set at the call site.
 It is preferred that these parameters are ignored when using these methods.

<br><br>
<b>License:</b><br>
MIT. See LICENSE for full details.<br><br>

<dl><dt><big><a name="Mockable"></a>template <u>Mockable</u>(C) if (is(C == class) || is(C == interface))</big></dt>
<dd>A template mixin used to inject code into a class to provide mockable behaviour.
 Code is nested within the host class to provide access to all host types.
 <b>Only injects code when using the -unittest compiler switch.</b>
<br><br>
<b>Caveats:</b><br>
Only module level types can be made mockable.

<br><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>import</font> dunit.mockable;

<font color=blue>class</font> T
{
    <font color=blue>mixin</font> <u>Mockable</u>!(T);
}
</pre>
<br><br>

<dl><dt><big><a name="Mockable.getMock"></a>auto <u>getMock</u>(A...)(A <i>args</i>);
</big></dt>
<dd>Injected by the Mockable mixin template this method allows creation of mock object instances of the mockable class.
<br><br>
<b>Params:</b><br>
<table><tr><td>A <i>args</i></td>
<td>The constructor arguments of the host class.</td></tr>
</table><br>
<b>Example:</b><br>
<pre class="d_code"><font color=blue>import</font> dunit.mockable;

<font color=blue>class</font> T
{
    <font color=blue>mixin</font> Mockable!(T);
}

<font color=blue>unittest</font>
{
    <font color=blue>import</font> dunit.toolkit;

    <font color=blue>auto</font> mock = T.<u>getMock</u>();

    assertTrue(<font color=blue>cast</font>(T)mock); <font color=green>// Mock extends T.
</font>}
</pre>

<br><br>
<b>Templates:</b><br>
 Templated classes are supported when creating mocks.
 Simply include the template parameters for the class when calling the '<u>getMock</u>' method.
<pre class="d_code"><font color=blue>auto</font> mock = T!(<font color=blue>int</font>).<u>getMock</u>(); <font color=green>// Get a mock of T!(int).
</font></pre>
<br><br>

</dd>
</dl>
</dd>
</dl>

        <hr><small>Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a>. </small>
        </body></html>
